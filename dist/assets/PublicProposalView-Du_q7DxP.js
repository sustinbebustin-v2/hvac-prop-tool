import{v as K,c as M,q as B,d as G,j as s,B as k,h as V,i as Y,s as U,b as T,l as X,u as Z,a2 as ss,D as es,m as w,N as as,C as F,P as q,T as i,o as n,n as rs,S as v,J as I}from"./index-o1jhjknc.js";import{a as ts,B as A}from"./hooks-B7xWFklZ.js";import{g as ls,m as os,T as c,N as is}from"./proxy-BwM-woTe.js";import{G as S,I as ns}from"./IconChartBar-btckUqtS.js";import{C as x}from"./Card-uICau0cm.js";import{a as cs,G as C}from"./Group-CEcvISHj.js";import"./InputBase-CmeBW0gA.js";var J={root:"m_9e117634"};const ds={},hs=V((d,{radius:l,fit:t})=>({root:{"--image-radius":l===void 0?void 0:Y(l),"--image-object-fit":t}})),N=K((d,l)=>{const t=M("Image",ds,d),{classNames:o,className:m,style:p,styles:a,unstyled:h,vars:g,onError:e,src:r,radius:j,fit:y,fallbackSrc:b,mod:u,...f}=t,[_,D]=B.useState(!r);B.useEffect(()=>D(!r),[r]);const E=G({name:"Image",classes:J,props:t,className:m,style:p,classNames:o,styles:a,unstyled:h,vars:g,varsResolver:hs});return _&&b?s.jsx(k,{component:"img",ref:l,src:b,...E("root"),onError:e,mod:["fallback",u],...f}):s.jsx(k,{component:"img",ref:l,...E("root"),src:r,onError:H=>{e==null||e(H),D(!0)},mod:u,...f})});N.classes=J;N.displayName="@mantine/core/Image";const[gs,Q]=U("Progress.Root component was not found in tree");var z={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const ms={},L=T((d,l)=>{const{classNames:t,className:o,style:m,styles:p,vars:a,...h}=M("ProgressLabel",ms,d),g=Q();return s.jsx(k,{ref:l,...g.getStyles("label",{className:o,style:m,classNames:t,styles:p}),...h})});L.classes=z;L.displayName="@mantine/core/ProgressLabel";const ps={},vs=V((d,{size:l,radius:t,transitionDuration:o})=>({root:{"--progress-size":X(l,"progress-size"),"--progress-radius":t===void 0?void 0:Y(t),"--progress-transition-duration":typeof o=="number"?`${o}ms`:void 0}})),R=T((d,l)=>{const t=M("ProgressRoot",ps,d),{classNames:o,className:m,style:p,styles:a,unstyled:h,vars:g,autoContrast:e,transitionDuration:r,...j}=t,y=G({name:"Progress",classes:z,props:t,className:m,style:p,classNames:o,styles:a,unstyled:h,vars:g,varsResolver:vs});return s.jsx(gs,{value:{getStyles:y,autoContrast:e},children:s.jsx(k,{ref:l,...y("root"),...j})})});R.classes=z;R.displayName="@mantine/core/ProgressRoot";const us={withAria:!0},$=T((d,l)=>{const{classNames:t,className:o,style:m,styles:p,vars:a,value:h,withAria:g,color:e,striped:r,animated:j,mod:y,...b}=M("ProgressSection",us,d),u=Q(),f=Z(),_=g?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":h,"aria-valuetext":`${h}%`}:{};return s.jsx(k,{ref:l,...u.getStyles("section",{className:o,classNames:t,styles:p,style:m}),...b,..._,mod:[{striped:r||j,animated:j},y],__vars:{"--progress-section-width":`${h}%`,"--progress-section-color":es(e,f),"--progress-label-color":ls(u.autoContrast,f)?ss({color:e,theme:f,autoContrast:u.autoContrast}):void 0}})});$.classes=z;$.displayName="@mantine/core/ProgressSection";const xs={},P=T((d,l)=>{const t=M("Progress",xs,d),{value:o,classNames:m,styles:p,vars:a,color:h,striped:g,animated:e,"aria-label":r,...j}=t,{resolvedClassNames:y,resolvedStyles:b}=cs({classNames:m,styles:p,props:t});return s.jsx(R,{ref:l,classNames:y,styles:b,vars:a,...j,children:s.jsx($,{value:o,color:h,striped:g,animated:e,"aria-label":r})})});P.classes=z;P.displayName="@mantine/core/Progress";P.Section=$;P.Root=R;P.Label=L;var O=w("calculator","IconCalculator",[["path",{d:"M4 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M8 14l0 .01",key:"svg-2"}],["path",{d:"M12 14l0 .01",key:"svg-3"}],["path",{d:"M16 14l0 .01",key:"svg-4"}],["path",{d:"M8 17l0 .01",key:"svg-5"}],["path",{d:"M12 17l0 .01",key:"svg-6"}],["path",{d:"M16 17l0 .01",key:"svg-7"}]]),js=w("credit-card","IconCreditCard",[["path",{d:"M3 5m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 10l18 0",key:"svg-1"}],["path",{d:"M7 15l.01 0",key:"svg-2"}],["path",{d:"M11 15l2 0",key:"svg-3"}]]),ys=w("download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),bs=w("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),fs=w("shield-check","IconShieldCheck",[["path",{d:"M11.46 20.846a12 12 0 0 1 -7.96 -14.846a12 12 0 0 0 8.5 -3a12 12 0 0 0 8.5 3a12 12 0 0 1 -.09 7.06",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]]),W=w("signature","IconSignature",[["path",{d:"M3 17c3.333 -3.333 5 -6 5 -8c0 -3 -1 -3 -2 -3s-2.032 1.085 -2 3c.034 2.048 1.658 4.877 2.5 6c1.5 2 2.5 2.5 3.5 1l2 -3c.333 2.667 1.333 4 3 4c.53 0 2.639 -2 3 -2c.517 0 1.517 .667 3 2",key:"svg-0"}]]),Ss=w("tools","IconTools",[["path",{d:"M3 21h4l13 -13a1.5 1.5 0 0 0 -4 -4l-13 13v4",key:"svg-0"}],["path",{d:"M14.5 5.5l4 4",key:"svg-1"}],["path",{d:"M12 8l-5 -5l-4 4l5 5",key:"svg-2"}],["path",{d:"M7 8l-1.5 1.5",key:"svg-3"}],["path",{d:"M16 12l5 5l-4 4l-5 -5",key:"svg-4"}],["path",{d:"M16 17l-1.5 1.5",key:"svg-5"}]]);const ws=os(q);function Ns(){const{publicId:d}=as(),[l,t]=B.useState("overview"),[o,m]=B.useState(200),p=ts(e=>e.proposals.items),a=Object.values(p).find(e=>e.publicId===d);if(!a)return s.jsx(F,{size:"md",py:"xl",children:s.jsx(q,{p:"xl",radius:"md",withBorder:!0,children:s.jsx(i,{order:3,ta:"center",style:{color:"var(--mantine-color-error)"},children:"Proposal Not Found"})})});const g=(e=>{const r=e*12;return Array.from({length:15},(y,b)=>{const u=b+1,f=r*u;return{year:u,savings:f}})})(a.monthlySavings);return s.jsxs(F,{size:"xl",py:"xl",children:[s.jsx(ws,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},radius:"md",p:"xl",mb:"xl",withBorder:!0,children:s.jsxs(S,{children:[s.jsxs(S.Col,{span:{base:12,md:6},children:[a.companyLogo&&s.jsx(N,{src:a.companyLogo,alt:"Company Logo",style:{maxWidth:200},mb:"lg"}),s.jsx(i,{children:a.title}),s.jsxs(n,{size:"lg",style:{color:"var(--mantine-color-gray-6)"},mt:"md",children:["Prepared for: ",a.client]}),s.jsx(A,{size:"lg",mt:"md",children:a.status})]}),s.jsx(S.Col,{span:{base:12,md:6},children:a.coverImage&&s.jsx(N,{src:a.coverImage,alt:"Cover",radius:"md"})})]})}),s.jsxs(c,{value:l,onChange:e=>t(e),mb:"xl",children:[s.jsxs(c.List,{children:[s.jsx(c.Tab,{value:"overview",leftSection:s.jsx(rs,{size:16}),children:"Overview"}),s.jsx(c.Tab,{value:"services",leftSection:s.jsx(Ss,{size:16}),children:"Services"}),s.jsx(c.Tab,{value:"savings",leftSection:s.jsx(O,{size:16}),children:"Savings Calculator"}),s.jsx(c.Tab,{value:"installation",leftSection:s.jsx(ns,{size:16}),children:"Installation"}),s.jsx(c.Tab,{value:"warranty",leftSection:s.jsx(fs,{size:16}),children:"Warranty"}),s.jsx(c.Tab,{value:"signature",leftSection:s.jsx(W,{size:16}),children:"Sign & Accept"})]}),s.jsx(c.Panel,{value:"overview",children:s.jsxs(v,{gap:"lg",children:[s.jsx(n,{children:a.sections.overview}),s.jsx(i,{order:3,children:"Benefits"}),s.jsx(S,{children:a.sections.benefits.map((e,r)=>s.jsx(S.Col,{span:{base:12,sm:6,md:4},children:s.jsx(x,{withBorder:!0,padding:"lg",radius:"md",children:s.jsxs(v,{gap:"md",children:[e.icon&&s.jsx(O,{size:24}),s.jsx(i,{order:4,children:e.title}),s.jsx(n,{size:"sm",children:e.description})]})})},r))})]})}),s.jsx(c.Panel,{value:"services",children:s.jsxs(v,{gap:"lg",children:[a.sections.serviceBreakdown.services.map((e,r)=>s.jsxs(x,{withBorder:!0,padding:"lg",radius:"md",children:[s.jsxs(C,{justify:"space-between",mb:"md",children:[s.jsx(i,{order:4,children:e.name}),s.jsxs(n,{fw:700,children:["$",e.price.toLocaleString()]})]}),s.jsx(n,{children:e.description})]},r)),s.jsxs(x,{withBorder:!0,padding:"lg",radius:"md",children:[s.jsx(i,{order:3,mb:"lg",children:"Available Incentives"}),s.jsx(v,{gap:"md",children:a.incentives.map((e,r)=>s.jsxs(C,{justify:"space-between",children:[s.jsxs("div",{children:[s.jsx(n,{fw:500,children:e.name}),s.jsx(n,{size:"sm",style:{color:"var(--mantine-color-gray-6)"},children:e.description})]}),s.jsxs(A,{size:"lg",variant:"light",children:["$",e.amount.toLocaleString()]})]},r))})]})]})}),s.jsx(c.Panel,{value:"savings",children:s.jsx(v,{gap:"lg",children:s.jsxs(x,{withBorder:!0,padding:"lg",radius:"md",children:[s.jsx(i,{order:3,mb:"lg",children:"Savings Calculator"}),s.jsx(is,{label:"Your Current Monthly Energy Bill",value:o,onChange:e=>m(e),prefix:"$",min:0,max:1e4,mb:"lg"}),s.jsx(i,{order:4,mb:"md",children:"Projected Savings Over Time"}),s.jsx(v,{gap:"xs",children:g.map(e=>s.jsxs("div",{children:[s.jsxs(C,{justify:"space-between",mb:4,children:[s.jsxs(n,{size:"sm",children:["Year ",e.year]}),s.jsxs(n,{fw:500,style:{color:"var(--mantine-color-success)"},children:["$",e.savings.toLocaleString()]})]}),s.jsx(P,{value:e.savings/g[14].savings*100,size:"sm",style:{"--mantine-color-filled":"var(--mantine-color-success)"}})]},e.year))})]})})}),s.jsx(c.Panel,{value:"installation",children:s.jsx(v,{gap:"lg",children:a.sections.installationProcess.steps.map((e,r)=>s.jsxs(x,{withBorder:!0,padding:"lg",radius:"md",children:[s.jsxs(C,{justify:"space-between",mb:"md",children:[s.jsx(i,{order:4,children:e.title}),s.jsx(A,{style:{backgroundColor:e.status==="completed"?"var(--mantine-color-success-light)":e.status==="in_progress"?"var(--mantine-color-info-light)":"var(--mantine-color-gray-light)"},children:e.status.replace("_"," ")})]}),s.jsx(n,{children:e.description})]},r))})}),s.jsx(c.Panel,{value:"warranty",children:s.jsx(v,{gap:"lg",children:s.jsxs(x,{withBorder:!0,padding:"lg",radius:"md",children:[s.jsx(i,{order:3,mb:"lg",children:"Warranty Coverage"}),s.jsx(n,{mb:"md",children:a.sections.warranty.coverage}),s.jsxs(n,{fw:500,mb:"xs",children:["Duration: ",a.sections.warranty.duration]}),s.jsx(i,{order:4,mt:"lg",mb:"md",children:"Terms"}),s.jsx(v,{gap:"xs",children:a.sections.warranty.terms.map((e,r)=>s.jsxs(n,{children:["• ",e]},r))})]})})}),s.jsx(c.Panel,{value:"signature",children:s.jsxs(v,{gap:"lg",children:[s.jsxs(x,{withBorder:!0,padding:"lg",radius:"md",children:[s.jsx(i,{order:3,mb:"lg",children:"Ready to Proceed?"}),s.jsx(n,{mb:"xl",children:"Review the proposal details above and click the button below to proceed with digital signature and acceptance."}),s.jsxs(C,{children:[s.jsx(I,{leftSection:s.jsx(W,{size:20}),size:"lg",variant:"filled",children:"Sign & Accept Proposal"}),s.jsx(I,{leftSection:s.jsx(ys,{size:20}),size:"lg",variant:"light",children:"Download PDF"})]})]}),s.jsxs(S,{children:[s.jsx(S.Col,{span:{base:12,md:6},children:s.jsxs(x,{withBorder:!0,padding:"lg",radius:"md",children:[s.jsx(i,{order:4,mb:"lg",children:"Questions?"}),s.jsx(I,{leftSection:s.jsx(bs,{size:20}),variant:"light",fullWidth:!0,children:"Contact Sales Representative"})]})}),s.jsx(S.Col,{span:{base:12,md:6},children:s.jsxs(x,{withBorder:!0,padding:"lg",radius:"md",children:[s.jsx(i,{order:4,mb:"lg",children:"Payment Options"}),s.jsx(I,{leftSection:s.jsx(js,{size:20}),variant:"light",fullWidth:!0,children:"View Financing Options"})]})})]})]})})]})]})}export{Ns as default};
